<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Denis Ostroushko">

<title>Drinking Games: Riding the Bus</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="Game of Bus_files/libs/clipboard/clipboard.min.js"></script>
<script src="Game of Bus_files/libs/quarto-html/quarto.js"></script>
<script src="Game of Bus_files/libs/quarto-html/popper.min.js"></script>
<script src="Game of Bus_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Game of Bus_files/libs/quarto-html/anchor.min.js"></script>
<link href="Game of Bus_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Game of Bus_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Game of Bus_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Game of Bus_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Game of Bus_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Drinking Games: Riding the Bus</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Denis Ostroushko </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<!-- 
functions and global set ups 
-->
<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>Games of chance have a long and varied history, with evidence of such activities dating back to ancient civilizations.</p>
<p>This ancient Greek game <strong>Astragaloi</strong> or <em>Knucklebones</em> involved throwing small bones (knucklebones or astragaloi) and using the side that landed facing up for scoring. The game had various versions and was played for both fun and gambling.</p>
<p>An ancient Mesopotamian board game <strong>The Royal Game of Ur</strong>, also known as the Game of Twenty Squares, dates back to around 2600 BCE. It involved a race between two players, and the movement of pieces was determined by the casting of four-sided dice. Some believe that the game had a religious significance.</p>
<p>Gambling with dice was common during the medieval and Renaissance periods. Games like Hazard, a precursor to modern craps, were popular. Dice were often made from bone or ivory, and various forms of gambling were associated with them.</p>
<p>Lotteries became popular in Industrial societies. While lotteries have a much longer history, they gained prominence during the 18th century in Europe and North America. Governments used lotteries to raise funds for public projects, and people purchased tickets for a chance to win prizes.</p>
<p>The modern version of the roulette wheel, a popular casino game of chance, was developed in 18th-century France. It has since become a classic in casino gambling.</p>
<p>Games of chance evolved over time, reflecting cultural changes and technological advancements. While the specific games may vary, the concept of taking a risk for the chance of gaining something of value has persisted across centuries and civilizations.</p>
<p>Today’s youth commonly uses card games at parties to play drinking games. Instead of monetary wagers we wager sips of beverages. F the Dealer, Kings cup, and many other games are extremely popular. With my friends, <a href="https://www.thrillist.com/culture/ride-the-bus-drinking-game">Ride the Bus</a> is the most common choice.</p>
<p>The game consists of three phases, and has many variations. In this article I looked at the last phase of the game to understand the distribution of game outcomes, and amount of drinks a sore loser has to consume.</p>
<section id="why-do-this" class="level3">
<h3 class="anchored" data-anchor-id="why-do-this">Why do this?</h3>
<p>As with any game of chance, your strategy contributes to the likelihood of success, but randomness still has a role to play. Before we get into how the game works, I will tell you that I witnessed a <strong>FRIEND OF MINE WHO SHALL NOT BE NAMED</strong> go through the deck of cards multiple times, making about 40 decisions before he successfully finished the game. Afterwards, other people finished their ride of the bus in a much, MUCH, smaller number of steps.</p>
<p>This crazy variance of a few data points sparked my interest in this little simulation case study.</p>
</section>
</section>
<section id="how-the-game-works" class="level1">
<h1>How the Game Works</h1>
<section id="a-working-example" class="level3">
<h3 class="anchored" data-anchor-id="a-working-example">A working example</h3>
<p>As I mentioned earlier, the game consists of multiple phases, but we focus on the last part, where one player is playing against the dealer. While many variations of the game exist, we usually base our play with a small number of simple rules.</p>
<p>The game between a dealer and player begins with a 52-card deck. We begin by laying out six cards face down and revealing one card to the player. Example of the setup is given in <a href="#fig-start">Figure&nbsp;1</a></p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-start" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="Start.jpeg" class="img-fluid figure-img" width="1984"></p>
<figcaption class="figure-caption">Figure&nbsp;1: Start the Bus Ride</figcaption>
</figure>
</div>
</div>
</div>
<p>The game begins with a player deciding if the next card to the right is higher or lower than the last card a player saw. A player will announce their choice to the dealer before flipping th card. If the player guesses correctly, the game continues, and another higher/lower choice is made. The game goes on until the player gets 6 correct guesses in a row. Suits play no role in this version of the game.</p>
<p>For example, with the same staring point of ‘three of clubs’ as a starting point, a player might get to a point in a game displayed in <a href="#fig-example">Figure&nbsp;2</a>. The first choice would be ‘higher than three’, which would reveal ‘nine’. Next, a player might say ‘lower’, which would be a correct guess when ‘six’ is revealed. ‘Six’ is a lower card in the ‘two-to-ace’ deck, so a good guess may be to go higher. This would be a faulty guess when we reveal a ‘two’.</p>
<p>This choice would prompt the game to restart.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-example" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="Example.jpeg" class="img-fluid figure-img" width="2016"></p>
<figcaption class="figure-caption">Figure&nbsp;2: Somewhere along the way</figcaption>
</figure>
</div>
</div>
</div>
<p>An example of a restart is shown in <a href="#fig-restart">Figure&nbsp;3</a>. We discarded previous starting point, which was a ‘three of clubs’, we deal three more cards for the three cards that we revealed. And then the last, fourth, card would be a Jack.</p>
<p>Because the player failed at the third guess, a player need to take three drinks/sips of their beverage. A ligher bevarege is recommended for this game, for obvious reasons.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-restart" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="Restart.jpeg" class="img-fluid figure-img" width="2015"></p>
<figcaption class="figure-caption">Figure&nbsp;3: Start the Bus Ride Again</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="summary-of-the-game-rules" class="level3">
<h3 class="anchored" data-anchor-id="summary-of-the-game-rules">Summary of the game rules</h3>
<p>Bullet points below summarize the rules of the game.</p>
<ul>
<li><p>Starting point: deal six cards and reveal one on top of the deck to begin guessing</p></li>
<li><p>At each step guess if the next (unknown) card is higher or lower than the last one</p></li>
<li><p>If the guess is correct, we move one, a make a new guess based on the card we just revealed</p></li>
<li><p>If we guess wrong, we count the number of guesses we make in the sequence. This is how many small drinks/sips a player needs to do before the next round starts.</p></li>
<li><p>The goal of the game is to make six correct guesses in a row</p></li>
</ul>
</section>
</section>
<section id="analysis" class="level1">
<h1>Analysis</h1>
<section id="goal" class="level3">
<h3 class="anchored" data-anchor-id="goal">Goal</h3>
<p>As outlined above, the game end and a player wins when they make six correct guesses in a row. The goal of my analysis is to obtain a distribution for the number of attempts until a player gets six in a row.</p>
</section>
<section id="strategies" class="level3">
<h3 class="anchored" data-anchor-id="strategies">Strategies</h3>
<p>We debated many version of the best strategy for this game, and maybe all of them will be studied one day. Today, we consider three strategies.</p>
<ul>
<li><p><strong>Total Randomness</strong>: a horrible strategy where you guess higher or lower a random at each step. Nobody plays like this. I just want to know how bad one might be able to do in this game.</p></li>
<li><p><strong>Simple</strong>: based on one rule a player might want to stick with:</p>
<ul>
<li><p>For example, in a deck of cards with 2, 3, 4, 5, 6, 7, 8, 9, 10, J, Q, K, A (Ace is high) we might pick <em>7</em> or <em>8</em> as a natural midpoint</p></li>
<li><p>For my analysis, I pick 7 as a midpoint. So, if the last card is higher than ‘7’, you always say than the next card is lower. For example, if you play against the last card ‘9’, you guess that the next card is lower.</p></li>
<li><p>This strategy seems robust, but it ignores information that has been revealed as the game goes on.</p></li>
</ul></li>
<li><p><strong>The card counter</strong>: this strategy is based on an assumption that you could potentially remember cards that were already dealt, and cards that are still in the deck.</p>
<ul>
<li><p>Suppose a ‘7’ was revealed. Hypothetically, you may count the number of cards that are still not revealed that are higher and lower than ‘7’. If more cards are left to play that are higher than ‘7’, you make this guess.</p></li>
<li><p>This strategy can be good at the extremes of dealt cards, like ‘2’, ‘3’, or ‘Q’, ‘K’, ‘A’, but is more of a 50/50 guess when the cards are towards the middle of the order.</p></li>
<li><p>Also, this strategy may be better as more and more cards are revealed</p></li>
</ul></li>
</ul>
</section>
<section id="results" class="level3">
<h3 class="anchored" data-anchor-id="results">Results</h3>
<p>To compare strategies, I ran 100,000 games for each strategy. To make things equal and account for deck specific factors, I applied each strategy to the same deck of cards. Results are given in <a href="#tbl-results">Table&nbsp;1</a></p>
<div class="cell">
<div class="cell-output-display">
<div id="tbl-results" class="anchored">
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<caption>Table&nbsp;1: Comparison of Strategies</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Strategy</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">Average # Attempts</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">Median # Attempts</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">25th Quantile</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">75th Quantile</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">% Finished on First Try</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">% Finished on 10+ Tries</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">Max # Attempts</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Random</td>
<td style="text-align: center;">62.9</td>
<td style="text-align: center;">44</td>
<td style="text-align: center;">18</td>
<td style="text-align: center;">87</td>
<td style="text-align: center;">3.1%</td>
<td style="text-align: center;">85.56%</td>
<td style="text-align: center;">791</td>
</tr>
<tr class="even">
<td style="text-align: left;">Simple</td>
<td style="text-align: center;">5.8</td>
<td style="text-align: center;">4</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">8</td>
<td style="text-align: center;">27.54%</td>
<td style="text-align: center;">19.55%</td>
<td style="text-align: center;">70</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Counting</td>
<td style="text-align: center;">5.7</td>
<td style="text-align: center;">4</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">8</td>
<td style="text-align: center;">28.17%</td>
<td style="text-align: center;">19.16%</td>
<td style="text-align: center;">62</td>
</tr>
</tbody>
</table>
</div>


</div>
</div>
<ul>
<li><p>Biggest shock to me was the fact that all summary statistics for a simpler strategy with 1 rule and a card counting strategy are similar. It means that following a simple rule can help you do just as good as a professional card counter.</p></li>
<li><p>It was also interesting to see that about quarter of all games finish in 1 go</p>
<ul>
<li>in my personal experience, this event is more rare</li>
<li>it may suggest my friends need a better strategy))</li>
</ul></li>
<li><p>The variance and skewness of of this distribution is quite high, which is dictated by the shape of distributions, see <a href="#fig-distrs">Figure&nbsp;4</a></p></li>
<li><p>If you play at random and have no strategy you might need to see a doctor at the end of the night</p></li>
</ul>
<div class="cell">
<div class="cell-output-display">
<div id="fig-distrs" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="Game-of-Bus_files/figure-html/fig-distrs-1.png" class="img-fluid figure-img" width="960"></p>
<figcaption class="figure-caption">Figure&nbsp;4: Distirbution of # of attempts for the two strategies</figcaption>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="conclusion" class="level1">
<h1>Conclusion</h1>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>